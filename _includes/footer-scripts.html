{% if layout.common-ext-js %}
  {% for js in layout.common-ext-js %}
    {% include ext-js.html js=js %}
  {% endfor %}
{% endif %}

{% if layout.common-js %}
  {% for js in layout.common-js %}
    {% if js contains 'jquery' %}
      <script>
      	if (typeof jQuery == 'undefined') {
          <!-- document.write('<script src="{{ js | relative_url }}"></scr' + 'ipt>'); -->
          var newScript = document.createElement("script");
          newScript.async = true;
          newScript.src = "{{ js | relative_url }}";
          var scriptZero = document.getElementsByTagName('script')[0];
          scriptZero.parentNode.insertBefore(newScript, scriptZero);
      	}
      </script>
    {% else %}
      <script src="{{ js | relative_url }}"></script>
    {% endif %}
  {% endfor %}
{% endif %}

{% if page.ext-js %}
  {% for js in page.ext-js %}
    {% include ext-js.html js=js %}
  {% endfor %}
{% endif %}

{% if page.js %}
  {% for js in page.js %}
    <script src="{{ js | relative_url }}"></script>
  {% endfor %}
{% endif %}
